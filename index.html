<!doctype html>
<html lang="en">
<head>
    <style>
        /* ... (autres styles CSS) ... */
        .ol-legend { /* Styles pour la légende */
            /* ... (mêmes styles que précédemment) ... */
        }
        .ol-legend-icon {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 5px;
            display: inline-block; /*Important pour l'alignement*/
            vertical-align: middle;
        }
        .legend-label{
            font-size: 10px;
            display: inline-block; /*Important pour l'alignement*/
            vertical-align: middle;
        }
    </style>
    <title></title>
</head>
<body>
    <div id="map">
        <div id="popup" class="ol-popup">
            <a href="#" id="popup-closer" class="ol-popup-closer"></a>
            <div id="popup-content"></div>
        </div>
    </div>
    <script>
        // ... (Code d'initialisation de la carte) ...

        // Légende (OpenLayers - CODE CORRECT)
        var legend = document.createElement('div');
        legend.className = 'ol-legend';
        legend.innerHTML = '<h4>Légende</h4>' +
                           '<div class="ol-legend-item">' +
                           '<div class="ol-legend-icon" style="background-color: rgba(227,26,28,1.0);"></div><span class="legend-label">Foyers</span></div>' + // Couleur extraite du style
                           '<div class="ol-legend-item">' +
                           '<div class="ol-legend-icon" style="background-color: blue;"></div><span class="legend-label">Lieux Importants</span></div>'; // Couleur par défaut (à modifier)

        map.once('loadend', function() {
            map.getTargetElement().appendChild(legend);
        });
    </script>
</body>
</html>
